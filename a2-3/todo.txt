Undo/Redo can be done with same DynamicArray struct. 
